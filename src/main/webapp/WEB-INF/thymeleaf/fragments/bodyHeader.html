<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.thymeleaf.org"
      lang="en">
<head>
	
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title th:text="#{PageTitle}">Store title</title>
	
	<link href="../../../resources/css/default.css"
          th:href="@{/css/default.css}" rel="stylesheet" />
          
    <link rel="shortcut icon" type="image/x-icon" href="../../../resources/img/logo-small.ico"
    	th:href="@{/img/logo-small.ico}"/>
</head>

<body>
	
	<div id="topbar" th:fragment="authHeader">
		<span th:if="${#authorization.expression('!isAuthenticated()')}">
			<form th:action="@{/signin}" action="#">
				<label for="username" th:text="#{Topbar_User_Label}">Prototype User label</label>
				<input id="username" type="text" size="50"/>
				
				<label for="password" th:text="#{Topbar_Pass_Label}">Prototype User Password</label>
				<input id="password" type="password" size="50"/>
				
				<input type="submit" th:value="#{Topbar_Login_Label}" value="Prototype Login label"/>
				
				<h:commandButton action="#{userController.login}"  value="#{bundle.Topbar_Login_Label}" /> 
	        	<h:commandButton action="customer/Create.xhtml"  value="#{bundle.Topbar_Signup_Label}" />
			</form>
			<form th:action="@{/signup}" action="#">
				<input type="submit" th:value="#{Topbar_Signup_Label}" value="Prototype Signup label"/>
			</form>
		</span>
		<span th:if="${#authorization.expression('isAuthenticated()')}">
		</span>
		<form th:if="${#authorization.expression('isAuthenticated()')}">
			<label for="username" th:text="#{Topbar_User_Label}">Prototype User label</label>
			<input id="username" type="text" size="50"/>
			
			<label for="password" th:text="#{Topbar_Pass_Label}">Prototype User Password</label>
			<input id="password" type="password" size="50"/>
			
			<h:commandButton rendered="#{userController.admin}" action="#{userController.goAdmin}"  value="Administration" />
        <h:commandButton action="#{userController.logout}" value="#{bundle.Topbar_Logout_Label}"/>
        <h:outputText value=" #{bundle.Topbar_User_Label} #{userController.authenticatedUser.email}"  styleClass="user"/>
		</form>
	</div>
	
	<header id="header" th:fragment="topHeader">
		<img th:src="@{/img/logo-small.png}" 
     		src="../../../resources/img/logo-small.png" />
		<h1 th:text="#{TopTitle}">Top Title</h1>
    	<h3 th:text="#{TopSubTitle}">Top Sub Title</h3>
	</header>
	
</body>

</html>